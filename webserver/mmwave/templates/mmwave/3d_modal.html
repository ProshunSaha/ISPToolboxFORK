<!-- Modal -->
{% load static %}
<script src="{% static "jquery/jquery-3.1.1.min.js" %}"></script>
<script src="{% static "spectrum/spectrum.js" %}"></script>
<script src="{% static "jquery-ui/jquery-ui.min.js" %}"></script>
<script src="{% static "three.js/build/three.min.js" %}"></script>
<script src="{% static "three.js/extra/lines.js" %}"></script>
<script src="{% static "other/BinaryHeap.js" %}"></script>
<script src="{% static "tween/tween.min.js" %}"></script>
<script src="{% static "d3/d3.js" %}"></script>
<script src="{% static "proj4/proj4.js" %}"></script>
<script src="{% static "openlayers3/ol.js" %}"></script>
<script src="{% static "i18next/i18next.js" %}"></script>
<script src="{% static "jstree/jstree.js" %}"></script>
<script src="{% static "potree/potree.js" %}"></script>
<script src="{% static "plasio/js/laslaz.js" %}"></script>

<div class="modal fade" id="Modal3d" tabindex="-1" role="dialog" aria-labelledby="Modal3dLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="Modal3dLabel">3D LiDAR View</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="potree_container" >
          <div id="potree_render_area" style="width:100%;height:80vh;min-height: 400px;"></div>
          <div id="potree_sidebar_container" class="d-none"> </div>
        </div>      
      </div>
      <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<style>

.potree_container img{
  display:none !important;
}

</style>
<script>

  let clipSpheres = [
    {position: [0.032, -2.382, 4.279], scale: 3},
    {position: [-1.787, 6.011, 1.711], scale: 1},
    {position: [0.095, 7.636, 10.997], scale: 2},
  ];

  window.viewer = new Potree.Viewer(document.getElementById("potree_render_area"));

  viewer.setEDLEnabled(true);
  viewer.setFOV(60);
  viewer.setPointBudget(2*1000*1000);
  viewer.loadSettingsFromURL();

  viewer.setDescription('');

  viewer.loadGUI(() => {
    viewer.setLanguage('en');
  });

</script>