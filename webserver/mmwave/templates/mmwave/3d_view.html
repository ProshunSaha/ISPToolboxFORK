<!-- Modal -->
{% load static %}

<div id="3d-view-container" class="d-none" style="position: absolute; width: 100%">
  <div class="potree_container" >
    <div id="potree_render_area" style="width:100%; min-height: 400px;">
    </div>
    {% include "mmwave/molecules/webgl2_error.html" %}
    <div id="potree_sidebar_container" class="d-none"> </div>
  </div>
  {% include 'mmwave/atoms/3d_help.html' %}
</div>

<style>

.potree_container img{
  display:none !important;
}
</style>
<script>
  if(typeof window.WebGL2RenderingContext !== 'undefined'){
    console.log('WebGL2 Enabled');
    window.webgl2support = true;
  } else {
    console.log('WebGL2 Not supported');
    window.webgl2support = false;
    document.getElementById("webgl-error-msg").classList.remove('d-none');
    document.getElementById("potree_render_area").classList.add('d-none');
  }
    window.viewer = new Potree.Viewer(document.getElementById("potree_render_area"));

    if (window.viewer.renderer.getContext().getSupportedExtensions().includes("EXT_frag_depth"))
    {
      viewer.setEDLEnabled(false);
    }
    
    viewer.setFOV(60);
    viewer.setPointBudget(3*1000*1000);
    viewer.loadSettingsFromURL();

    viewer.setDescription('');
</script>